---
const today = new Date();
import contactIconRaw from "../../assets/icons/contact-icon.svg?raw";
import ldIconRaw from "../../assets/icons/linkedin-blog-post-shareicon.svg?raw";
import igIconRaw from "../../assets/icons/instagram-icon.svg?raw";
import xIconRaw from "../../assets/icons/twitter-svgrepo-com.svg?raw";

import { SOCIAL_MEDIA } from "@/consts";
import Button from "../ui/button/Button.astro";

function sanitizeToWhite(svg: string, size = 18) {
  let s = svg
    .replace(/<\?xml[\s\S]*?\?>/g, "")
    .replace(/<!--([\s\S]*?)-->/g, "")
    .replace(/width=\"[^\"]*\"/g, "")
    .replace(/height=\"[^\"]*\"/g, "")
    // Ensure shapes are visible: use white via currentColor on fill, drop strokes
    .replace(/fill=\"[^\"]*\"/gi, 'fill="currentColor"')
    .replace(/stroke=\"[^\"]*\"/gi, 'stroke="none"');
  s = s.replace(/<svg([^>]*)>/, (m, attrs) => `<svg${attrs} width="${size}" height="${size}">`);
  return s;
}

const contactIcon = sanitizeToWhite(contactIconRaw);
const ldIcon = sanitizeToWhite(ldIconRaw);
const igIcon = sanitizeToWhite(igIconRaw);
const xIcon = sanitizeToWhite(xIconRaw);





---

<footer id="contact" class="py-12 px-4 text-center">
  
  <h3 class="text-2xl md:text-3xl font-semibold text-foreground">Want to contact me?</h3>
 
  <div class="mt-6 flex justify-center gap-3 text-sm">

    <Button href="mailto:llucferrandojorda@gmail.com" variant="secondary" size="md" >
      <span class="inline-flex" aria-hidden="true" set:html={contactIcon} />
      Mail me
    </Button>
    <Button href={SOCIAL_MEDIA.linkedin} variant="secondary" size="md" >
      <span class="inline-flex" aria-hidden="true" set:html={ldIcon} />
      Connect Me
    </Button>
    <Button href={SOCIAL_MEDIA.instagram} variant="secondary" size="md" >
      <span class="inline-flex" aria-hidden="true" set:html={igIcon} />
      Send me DM
    </Button>
    <Button href={SOCIAL_MEDIA.x} variant="secondary" size="md" >
      <span class="inline-flex" aria-hidden="true" set:html={xIcon} />
      Send me DM
    </Button>
  </div>

</footer>
